# Phylogenetics

There are two main phylogenetic functions in tb-profiler:

1. Create a phylogeny from scratch using the bam and vcf files generated by the profile pipeline
2. Quickly add a new sample in to an existing phylogeny


## Phylogenetic reconstruction

If you have already processed your samples from fastq, you will be able to use `tb-profiler-tools` to create a phylogenetic tree. This process uses the variants from the vcf files and depth information from the bam to create a consensus genome for each sample specified followed by tree building using `iqtree`. For this reason it is currently only possible if the bam files and vcf file are available to the script.

```
tb-profiler-tools create_phylogeny --samples <samples_file> --threads <threads>
```

The `--samples` argument is a file with one sample name per line. Adjust the `--threads` argument according to your system.
